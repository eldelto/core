{{define "content"}}

{{block "toDoListOnly" .}}
<div class="ToDoList {{if .IsCompleted}}checked{{end}}">
  <a id="edit-link" href="/lists/{{.Identifier}}/edit">Edit</a>
  <h1 class="ToDoListTitle" name="title" placeholder="Title">
	{{.Title.Value}}
  </h1>
  <div class="ToDoListBody">

	{{range .GetItems}}
	<div class="ToDoItem {{if .Checked}}checked{{end}}">
	  <button class="ToDoItemCheckbox"
			  {{if .Checked}}
			  hx-delete="/lists/{{$.Identifier}}/items/{{.Identifier}}/check"
			  {{else}}
			  hx-put="/lists/{{$.Identifier}}/items/{{.Identifier}}/check"
			  {{end}}
			  hx-target="closest .ToDoList"
			  hx-swap="outerHTML">
		<svg width="24" height="24" viewBox="0 0 24 24">
		  <path d="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path>
		</svg>
	  </button>
	  <span class="ToDoItemTitle">{{.Title}}</span>
	  <span class="ToDoItemDragHandle" tabindex="0" role="button">
		<svg width="24" height="24" viewBox="0 0 24 24">
		  <path d="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"></path>
		</svg>
	  </span>
	  <button class="ToDoItemDeleteButton" hidden
			  hx-delete="/lists/{{$.Identifier}}/items/{{.Identifier}}"
			  hx-trigger="delete-item from:closest .ToDoItem"
			  hx-confirm="Delete the selected to-do item?"
			  hx-target="closest .ToDoList"
			  hx-swap="outerHTML"></button>
	</div>
	{{end}}

	<form method="POST" action="/lists/{{$.Identifier}}/items"
		  class="AddItemBar"
		  hx-post="/lists/{{$.Identifier}}/items"
		  hx-target="closest .ToDoList"
		  hx-swap="outerHTML">
      <button id="AddItemBarButton" type="submit" value="" disabled>
        <svg width="24" height="24" viewBox="0 0 24 24">
          <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"></path>
        </svg>
      </button>
	  <input type="text" name="title" id="AddItemBarTitle"
			 placeholder="New item" />
    </form>
  </div>
</div>
{{end}}

{{end}}
